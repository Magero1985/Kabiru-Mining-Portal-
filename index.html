<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KABIRU Mining App - Complete</title>
    
    <!-- Firebase SDK -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.23.0/firebase-app-compat.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.23.0/firebase-auth-compat.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            background-attachment: fixed;
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }

        .login-page {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            min-height: 100vh;
        }

        .auth-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 400px;
            animation: fadeInUp 0.8s ease-out;
            margin: 20px auto;
        }

        .auth-logo {
            text-align: center;
            margin-bottom: 30px;
        }

        .auth-logo-img {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: bold;
            color: #333;
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
            animation: pulse 2s infinite;
            border: 2px solid #FFD700;
            margin: 0 auto 15px;
        }

        .auth-title {
            font-size: 28px;
            font-weight: bold;
            color: #FFD700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            margin-bottom: 8px;
        }

        .auth-subtitle {
            font-size: 14px;
            opacity: 0.8;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
            position: relative;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            color: #FFD700;
            font-weight: 500;
        }

        .form-input {
            width: 100%;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
            outline: none;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            border-color: #FFD700;
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.2);
        }

        .form-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .password-input-container {
            position: relative;
        }

        .password-toggle {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #FFD700;
            cursor: pointer;
            font-size: 18px;
            padding: 0;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .password-toggle:hover {
            opacity: 0.7;
        }

        .auth-button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            border: none;
            border-radius: 12px;
            color: #333;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .auth-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
        }

        .auth-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .auth-toggle {
            text-align: center;
            margin-top: 20px;
            font-size: 14px;
        }

        .auth-toggle-link {
            color: #FFD700;
            cursor: pointer;
            text-decoration: underline;
            transition: all 0.3s ease;
        }

        .auth-toggle-link:hover {
            opacity: 0.8;
        }

        .forgot-password-link {
            display: block;
            text-align: right;
            color: #FFD700;
            font-size: 12px;
            cursor: pointer;
            text-decoration: underline;
            margin-top: 8px;
            transition: all 0.3s ease;
        }

        .forgot-password-link:hover {
            opacity: 0.8;
        }

        .signup-method-selection {
            display: none;
            text-align: center;
        }

        .method-title {
            font-size: 18px;
            color: #FFD700;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .method-subtitle {
            font-size: 13px;
            opacity: 0.8;
            margin-bottom: 25px;
            line-height: 1.4;
        }

        .signup-methods {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .method-button {
            flex: 1;
            padding: 18px 15px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .method-button:hover {
            border-color: #FFD700;
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }

        .method-icon {
            font-size: 24px;
            margin-bottom: 4px;
        }

        .method-name {
            font-size: 13px;
            font-weight: bold;
        }

        .method-desc {
            font-size: 10px;
            opacity: 0.7;
            line-height: 1.2;
        }

        .password-reset-container {
            display: none;
        }

        .email-signup-container {
            display: none;
        }

        .phone-signup-container {
            display: none;
        }

        .signup-header {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .signup-method-badge {
            display: inline-block;
            padding: 6px 12px;
            background: rgba(255, 215, 0, 0.2);
            border-radius: 15px;
            font-size: 12px;
            color: #FFD700;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .back-to-methods {
            color: #FFD700;
            cursor: pointer;
            font-size: 12px;
            text-decoration: underline;
            opacity: 0.8;
            transition: all 0.3s ease;
        }

        .back-to-methods:hover {
            opacity: 1;
        }

        .otp-container, .email-verification-container {
            display: none;
            text-align: center;
        }

        .otp-inputs {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
        }

        .otp-input {
            width: 50px;
            height: 50px;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            outline: none;
            transition: all 0.3s ease;
        }

        .otp-input:focus {
            border-color: #FFD700;
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }

        .verification-info {
            background: rgba(255, 215, 0, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 14px;
            line-height: 1.4;
        }

        .success-message, .error-message {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
            display: none;
        }

        .success-message {
            background: rgba(0, 255, 135, 0.1);
            border: 1px solid rgba(0, 255, 135, 0.3);
            color: #00ff87;
        }

        .error-message {
            background: rgba(255, 107, 107, 0.1);
            border: 1px solid rgba(255, 107, 107, 0.3);
            color: #ff6b6b;
        }

        #recaptcha-container {
            margin: 20px 0;
            display: flex;
            justify-content: center;
            display: none;
        }

        .mining-app {
            display: none;
            min-height: 100vh;
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            padding: 15px;
            position: relative;
        }

        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            font-size: 12px;
            opacity: 0.8;
        }

        .top-bar div {
            padding: 5px 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .top-bar div:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .header {
            text-align: center;
            margin-bottom: 25px;
            animation: fadeInDown 1s ease-out;
        }

        .logo-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .logo-img {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: bold;
            color: #333;
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
            animation: pulse 2s infinite;
            border: 2px solid #FFD700;
        }

        .app-title {
            font-size: 24px;
            font-weight: bold;
            color: #FFD700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .subtitle {
            font-size: 14px;
            opacity: 0.8;
            margin-top: 5px;
        }

        .balance-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            margin-bottom: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: fadeInUp 1s ease-out 0.2s both;
        }

        .balance-title {
            font-size: 14px;
            opacity: 0.8;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .balance-amount {
            font-size: 32px;
            font-weight: bold;
            color: #FFD700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            margin-bottom: 8px;
        }

        .mining-rate {
            font-size: 12px;
            opacity: 0.7;
            color: #00ff87;
        }

        .main-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .main-button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border: none;
            padding: 20px 10px;
            border-radius: 15px;
            font-size: 14px;
            font-weight: bold;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
            animation: fadeInUp 1s ease-out 0.4s both;
            text-align: center;
        }

        .main-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.4);
        }

        .sovereign-btn {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: #333;
        }

        .value-btn {
            background: linear-gradient(45deg, #00ff87, #60efff);
            color: #333;
        }

        .reserve-btn {
            background: linear-gradient(45deg, #ff6b6b, #ffa726);
            color: white;
        }

        .stats-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: fadeInUp 1s ease-out 0.6s both;
        }

        .stat-value {
            font-size: 18px;
            font-weight: bold;
            color: #FFD700;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 11px;
            opacity: 0.7;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .tasks-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .tasks-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .tasks-title {
            font-size: 16px;
            font-weight: bold;
            color: #FFD700;
        }

        .reward-info {
            font-size: 12px;
            opacity: 0.8;
        }

        .task-categories {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .task-category {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px 8px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .task-category:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #FFD700;
        }

        .task-category.active {
            background: rgba(255, 215, 0, 0.2);
            border-color: #FFD700;
        }

        .category-title {
            font-size: 11px;
            font-weight: bold;
            margin-bottom: 3px;
        }

        .category-subtitle {
            font-size: 9px;
            opacity: 0.7;
        }

        .value-categories {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 8px;
        }

        .value-item {
            background: rgba(0, 255, 135, 0.1);
            padding: 8px;
            border-radius: 8px;
            text-align: center;
            font-size: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .value-item:hover {
            background: rgba(0, 255, 135, 0.2);
        }

        .personal-ledger {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .ledger-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .ledger-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            font-size: 11px;
        }

        .ledger-title {
            font-weight: bold;
            margin-bottom: 3px;
            color: #FFD700;
        }

        .wallet-page {
            display: none;
        }

        .utilities-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px 0;
        }

        .back-button {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: #FFD700;
            font-size: 20px;
            padding: 10px 15px;
            border-radius: 10px;
            cursor: pointer;
            margin-right: 15px;
            transition: all 0.3s ease;
        }

        .back-button:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .utilities-title {
            font-size: 24px;
            color: #FFD700;
            font-weight: bold;
        }

        .wallet-header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .wallet-balance {
            font-size: 32px;
            font-weight: bold;
            color: #FFD700;
            margin-bottom: 10px;
        }

        .wallet-address {
            font-size: 12px;
            opacity: 0.7;
            margin-bottom: 15px;
            word-break: break-all;
        }

        .wallet-quick-actions {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .quick-action-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            padding: 12px 8px;
            border-radius: 10px;
            color: white;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .quick-action-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .wallet-features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .wallet-feature {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .wallet-feature:hover {
            transform: translateY(-3px);
            border-color: #FFD700;
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
        }

        .feature-icon {
            font-size: 30px;
            margin-bottom: 10px;
            display: block;
        }

        .feature-name {
            font-size: 14px;
            font-weight: bold;
            color: #FFD700;
            margin-bottom: 5px;
        }

        .feature-desc {
            font-size: 11px;
            opacity: 0.8;
            line-height: 1.3;
        }

        .wallet-sections {
            margin-bottom: 20px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding: 0 5px;
        }

        .section-title {
            font-size: 18px;
            font-weight: bold;
            color: #FFD700;
        }

        .section-action {
            font-size: 12px;
            color: #FFD700;
            cursor: pointer;
            opacity: 0.8;
        }

        .section-action:hover {
            opacity: 1;
        }

        .transaction-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .transaction-info {
            flex: 1;
        }

        .transaction-type {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 3px;
        }

        .transaction-date {
            font-size: 11px;
            opacity: 0.7;
        }

        .transaction-amount {
            font-size: 14px;
            font-weight: bold;
        }

        .amount-positive {
            color: #00ff87;
        }

        .amount-negative {
            color: #ff6b6b;
        }

        .wallet-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
        }

        .wallet-modal-content {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            margin: 10% auto;
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 400px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: fadeInUp 0.3s ease-out;
            max-height: 80vh;
            overflow-y: auto;
        }

        .subcategory-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .subcategory-title {
            color: #FFD700;
            font-size: 20px;
            font-weight: bold;
        }

        .close {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
        }

        .close:hover {
            color: #FFD700;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            color: #FFD700;
        }

        .input-group input,
        .input-group select,
        .input-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
            outline: none;
            transition: all 0.3s ease;
        }

        .input-group input:focus,
        .input-group select:focus,
        .input-group textarea:focus {
            border-color: #FFD700;
            background: rgba(255, 255, 255, 0.15);
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .action-button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .primary-button {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: #333;
        }

        .primary-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
        }

        .secondary-button {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .secondary-button:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .info-box {
            background: rgba(0, 255, 135, 0.1);
            border: 1px solid rgba(0, 255, 135, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 13px;
            line-height: 1.4;
        }

        .warning-box {
            background: rgba(255, 165, 0, 0.1);
            border: 1px solid rgba(255, 165, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 13px;
            line-height: 1.4;
        }

        .exchange-rate-info {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 10px;
            margin: 10px 0;
            font-size: 12px;
            opacity: 0.8;
        }

        .pool-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }

        .pool-stat {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .pool-stat-value {
            font-size: 16px;
            font-weight: bold;
            color: #FFD700;
            margin-bottom: 5px;
        }

        .pool-stat-label {
            font-size: 11px;
            opacity: 0.7;
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            display: none;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 215, 0, 0.3);
            border-top: 4px solid #FFD700;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            .auth-container {
                padding: 30px 20px;
                margin: 10px;
            }
            
            .balance-amount {
                font-size: 28px;
            }
            
            .main-buttons {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .stats-section {
                grid-template-columns: 1fr;
            }
            
            .wallet-features {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Login/Registration Page -->
    <div id="login-page" class="login-page">
        <div class="auth-container">
            <!-- Main Login Form -->
            <div id="login-form">
                <div class="auth-logo">
                    <div class="auth-logo-img">KABIRU</div>
                    <h1 class="auth-title">KABIRU Mining</h1>
                    <p class="auth-subtitle">Your Gateway to Digital Gold</p>
                </div>
                
                <div class="success-message" id="success-message"></div>
                <div class="error-message" id="error-message"></div>
                
                <div class="form-group">
                    <label class="form-label">Email or Phone</label>
                    <input type="text" id="login-identifier" class="form-input" placeholder="Enter email or phone number">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <div class="password-input-container">
                        <input type="password" id="login-password" class="form-input" placeholder="Enter your password">
                        <button type="button" class="password-toggle" onclick="togglePassword('login-password')">üëÅ</button>
                    </div>
                    <a href="#" class="forgot-password-link" onclick="showForgotPassword()">Forgot Password?</a>
                </div>
                
                <button class="auth-button" onclick="handleLogin()">Sign In</button>
                
                <div class="auth-toggle">
                    Don't have an account? <span class="auth-toggle-link" onclick="showSignupMethods()">Sign Up</span>
                </div>
            </div>

            <!-- Signup Method Selection -->
            <div id="signup-method-selection" class="signup-method-selection">
                <div class="method-title">Choose Signup Method</div>
                <div class="method-subtitle">Select how you'd like to create your KABIRU account</div>
                
                <div class="signup-methods">
                    <div class="method-button" onclick="showEmailSignup()">
                        <div class="method-icon">üìß</div>
                        <div class="method-name">Email</div>
                        <div class="method-desc">Use your email address</div>
                    </div>
                    <div class="method-button" onclick="showPhoneSignup()">
                        <div class="method-icon">üì±</div>
                        <div class="method-name">Phone</div>
                        <div class="method-desc">Use your phone number</div>
                    </div>
                    <div class="method-button" onclick="showGoogleSignup()">
                        <div class="method-icon">üîó</div>
                        <div class="method-name">Google</div>
                        <div class="method-desc">Sign up with Google</div>
                    </div>
                </div>
                
                <div class="auth-toggle">
                    Already have an account? <span class="auth-toggle-link" onclick="showLogin()">Sign In</span>
                </div>
            </div>

            <!-- Email Signup -->
            <div id="email-signup-container" class="email-signup-container">
                <div class="signup-header">
                    <div class="signup-method-badge">üìß Email Signup</div>
                    <div class="back-to-methods" onclick="showSignupMethods()">‚Üê Back to methods</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input type="text" id="signup-name" class="form-input" placeholder="Enter your full name">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Email Address</label>
                    <input type="email" id="signup-email" class="form-input" placeholder="Enter your email">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <div class="password-input-container">
                        <input type="password" id="signup-password" class="form-input" placeholder="Create a strong password">
                        <button type="button" class="password-toggle" onclick="togglePassword('signup-password')">üëÅ</button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Confirm Password</label>
                    <div class="password-input-container">
                        <input type="password" id="signup-confirm-password" class="form-input" placeholder="Confirm your password">
                        <button type="button" class="password-toggle" onclick="togglePassword('signup-confirm-password')">üëÅ</button>
                    </div>
                </div>
                
                <button class="auth-button" onclick="handleEmailSignup()">Create Account</button>
            </div>

            <!-- Phone Signup -->
            <div id="phone-signup-container" class="phone-signup-container">
                <div class="signup-header">
                    <div class="signup-method-badge">üì± Phone Signup</div>
                    <div class="back-to-methods" onclick="showSignupMethods()">‚Üê Back to methods</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input type="text" id="phone-signup-name" class="form-input" placeholder="Enter your full name">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Phone Number</label>
                    <input type="tel" id="signup-phone" class="form-input" placeholder="+1234567890">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <div class="password-input-container">
                        <input type="password" id="phone-signup-password" class="form-input" placeholder="Create a strong password">
                        <button type="button" class="password-toggle" onclick="togglePassword('phone-signup-password')">üëÅ</button>
                    </div>
                </div>
                
                <div id="recaptcha-container"></div>
                
                <button class="auth-button" onclick="handlePhoneSignup()">Send Verification Code</button>
            </div>

            <!-- OTP Verification -->
            <div id="otp-container" class="otp-container">
                <div class="signup-header">
                    <div class="signup-method-badge">üì± Phone Verification</div>
                </div>
                
                <div class="verification-info">
                    We've sent a 6-digit verification code to your phone number. Please enter it below.
                </div>
                
                <div class="otp-inputs">
                    <input type="text" class="otp-input" maxlength="1" id="otp-1">
                    <input type="text" class="otp-input" maxlength="1" id="otp-2">
                    <input type="text" class="otp-input" maxlength="1" id="otp-3">
                    <input type="text" class="otp-input" maxlength="1" id="otp-4">
                    <input type="text" class="otp-input" maxlength="1" id="otp-5">
                    <input type="text" class="otp-input" maxlength="1" id="otp-6">
                </div>
                
                <button class="auth-button" onclick="verifyOTP()">Verify Code</button>
                
                <div class="auth-toggle">
                    Didn't receive code? <span class="auth-toggle-link" onclick="resendOTP()">Resend</span>
                </div>
            </div>

            <!-- Email Verification -->
            <div id="email-verification-container" class="email-verification-container">
                <div class="signup-header">
                    <div class="signup-method-badge">üìß Email Verification</div>
                </div>
                
                <div class="verification-info">
                    We've sent a verification link to your email address. Please check your inbox and click the link to verify your account.
                </div>
                
                <button class="auth-button" onclick="checkEmailVerification()">I've Verified My Email</button>
                
                <div class="auth-toggle">
                    Didn't receive email? <span class="auth-toggle-link" onclick="resendEmailVerification()">Resend</span>
                </div>
            </div>

            <!-- Password Reset -->
            <div id="password-reset-container" class="password-reset-container">
                <div class="signup-header">
                    <div class="signup-method-badge">üîë Reset Password</div>
                    <div class="back-to-methods" onclick="showLogin()">‚Üê Back to login</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Email Address</label>
                    <input type="email" id="reset-email" class="form-input" placeholder="Enter your email address">
                </div>
                
                <button class="auth-button" onclick="handlePasswordReset()">Send Reset Link</button>
            </div>
        </div>
    </div>

    <!-- Main Mining App -->
    <div id="mining-app" class="mining-app">
        <div class="container">
            <!-- Top Bar -->
            <div class="top-bar">
                <div onclick="showProfile()">üë§ Profile</div>
                <div onclick="showSettings()">‚öôÔ∏è Settings</div>
                <div onclick="logout()">üö™ Logout</div>
            </div>

            <!-- Header -->
            <div class="header">
                <div class="logo-section">
                    <div class="logo-img">KABIRU</div>
                    <div class="app-title">KABIRU Mining</div>
                    <div class="subtitle">Digital Gold Mining Platform</div>
                </div>
            </div>

            <!-- Balance Section -->
            <div class="balance-section">
                <div class="balance-title">Your Balance</div>
                <div class="balance-amount" id="balance-amount">0.00 KBR</div>
                <div class="mining-rate">Mining Rate: <span id="mining-rate">0.001 KBR/hour</span></div>
            </div>

            <!-- Main Action Buttons -->
            <div class="main-buttons">
                <button class="main-button sovereign-btn" onclick="showSovereignContent()">
                    Sovereign
                </button>
                <button class="main-button value-btn" onclick="showValueContent()">
                    Value
                </button>
                <button class="main-button reserve-btn" onclick="showWallet()">
                    Reserve
                </button>
            </div>

            <!-- Stats Section -->
            <div class="stats-section">
                <div class="stat-card">
                    <div class="stat-value" id="total-mined">0.00</div>
                    <div class="stat-label">Total Mined</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="mining-power">100</div>
                    <div class="stat-label">Mining Power</div>
                </div>
            </div>

            <!-- Tasks Section -->
            <div class="tasks-section">
                <div class="tasks-header">
                    <div class="tasks-title">Daily Tasks</div>
                    <div class="reward-info">+0.1 KBR each</div>
                </div>
                
                <div class="task-categories">
                    <div class="task-category active" onclick="showTaskCategory('daily')">
                        <div class="category-title">Daily</div>
                        <div class="category-subtitle">Basic tasks</div>
                    </div>
                    <div class="task-category" onclick="showTaskCategory('social')">
                        <div class="category-title">Social</div>
                        <div class="category-subtitle">Share & earn</div>
                    </div>
                    <div class="task-category" onclick="showTaskCategory('bonus')">
                        <div class="category-title">Bonus</div>
                        <div class="category-subtitle">Extra rewards</div>
                    </div>
                </div>

                <div class="value-categories">
                    <div class="value-item" onclick="completeTask('check-in')">
                        üìÖ Daily Check-in
                    </div>
                    <div class="value-item" onclick="completeTask('watch-ad')">
                        üì∫ Watch Video
                    </div>
                    <div class="value-item" onclick="completeTask('invite-friend')">
                        üë• Invite Friend
                    </div>
                </div>
            </div>

            <!-- Personal Ledger -->
            <div class="personal-ledger">
                <div class="tasks-title" style="margin-bottom: 15px;">Personal Ledger</div>
                <div class="ledger-grid">
                    <div class="ledger-item">
                        <div class="ledger-title">Today's Earnings</div>
                        <div id="today-earnings">0.00 KBR</div>
                    </div>
                    <div class="ledger-item">
                        <div class="ledger-title">Referral Bonus</div>
                        <div id="referral-bonus">0.00 KBR</div>
                    </div>
                    <div class="ledger-item">
                        <div class="ledger-title">Tasks Completed</div>
                        <div id="tasks-completed">0/10</div>
                    </div>
                    <div class="ledger-item">
                        <div class="ledger-title">Mining Streak</div>
                        <div id="mining-streak">1 day</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Wallet Page -->
    <div id="wallet-page" class="wallet-page">
        <div class="container">
            <div class="utilities-header">
                <button class="back-button" onclick="showMainApp()">‚Üê</button>
                <div class="utilities-title">Wallet & Reserve</div>
            </div>

            <!-- Wallet Header -->
            <div class="wallet-header">
                <div class="wallet-balance" id="wallet-balance">0.00 KBR</div>
                <div class="wallet-address" id="wallet-address">0x1234...5678</div>
                
                <div class="wallet-quick-actions">
                    <button class="quick-action-btn" onclick="openWalletModal('send')">
                        üì§ Send
                    </button>
                    <button class="quick-action-btn" onclick="openWalletModal('receive')">
                        üì• Receive
                    </button>
                    <button class="quick-action-btn" onclick="openWalletModal('swap')">
                        üîÑ Swap
                    </button>
                    <button class="quick-action-btn" onclick="openWalletModal('stake')">
                        üíé Stake
                    </button>
                </div>
            </div>

            <!-- Wallet Features -->
            <div class="wallet-features">
                <div class="wallet-feature" onclick="openWalletModal('liquidity')">
                    <span class="feature-icon">üíß</span>
                    <div class="feature-name">Liquidity Pool</div>
                    <div class="feature-desc">Provide liquidity and earn rewards</div>
                </div>
                <div class="wallet-feature" onclick="openWalletModal('lending')">
                    <span class="feature-icon">üè¶</span>
                    <div class="feature-name">Lending</div>
                    <div class="feature-desc">Lend your KBR and earn interest</div>
                </div>
                <div class="wallet-feature" onclick="openWalletModal('governance')">
                    <span class="feature-icon">üó≥Ô∏è</span>
                    <div class="feature-name">Governance</div>
                    <div class="feature-desc">Vote on platform decisions</div>
                </div>
                <div class="wallet-feature" onclick="openWalletModal('nft')">
                    <span class="feature-icon">üé®</span>
                    <div class="feature-name">NFT Market</div>
                    <div class="feature-desc">Trade exclusive mining NFTs</div>
                </div>
            </div>

            <!-- Recent Transactions -->
            <div class="wallet-sections">
                <div class="section-header">
                    <div class="section-title">Recent Transactions</div>
                    <div class="section-action" onclick="showAllTransactions()">View All</div>
                </div>
                
                <div id="transaction-list">
                    <div class="transaction-item">
                        <div class="transaction-info">
                            <div class="transaction-type">Mining Reward</div>
                            <div class="transaction-date">2 hours ago</div>
                        </div>
                        <div class="transaction-amount amount-positive">+0.05 KBR</div>
                    </div>
                    <div class="transaction-item">
                        <div class="transaction-info">
                            <div class="transaction-type">Task Completion</div>
                            <div class="transaction-date">5 hours ago</div>
                        </div>
                        <div class="transaction-amount amount-positive">+0.1 KBR</div>
                    </div>
                    <div class="transaction-item">
                        <div class="transaction-info">
                            <div class="transaction-type">Referral Bonus</div>
                            <div class="transaction-date">1 day ago</div>
                        </div>
                        <div class="transaction-amount amount-positive">+0.2 KBR</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Wallet Modals -->
    <div id="wallet-modal" class="wallet-modal">
        <div class="wallet-modal-content">
            <div class="subcategory-header">
                <div class="subcategory-title" id="modal-title">Wallet Function</div>
                <span class="close" onclick="closeWalletModal()">&times;</span>
            </div>
            <div id="modal-content">
                <!-- Content will be dynamically loaded -->
            </div>
        </div>
    </div>

    <script>
        // App State
        let appState = {
            user: null,
            balance: 0,
            miningRate: 0.001,
            totalMined: 0,
            miningPower: 100,
            isLoggedIn: false,
            miningInterval: null,
            tasks: {
                'check-in': { completed: false, reward: 0.1 },
                'watch-ad': { completed: false, reward: 0.1 },
                'invite-friend': { completed: false, reward: 0.5 }
            }
        };

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            checkStoredAuth();
            setupOTPInputs();
            startMining();
        });

        // Authentication Functions
        function showLogin() {
            hideAllSections();
            document.getElementById('login-form').style.display = 'block';
        }

        function showSignupMethods() {
            hideAllSections();
            document.getElementById('signup-method-selection').style.display = 'block';
        }

        function showEmailSignup() {
            hideAllSections();
            document.getElementById('email-signup-container').style.display = 'block';
        }

        function showPhoneSignup() {
            hideAllSections();
            document.getElementById('phone-signup-container').style.display = 'block';
        }

        function showForgotPassword() {
            hideAllSections();
            document.getElementById('password-reset-container').style.display = 'block';
        }

        function hideAllSections() {
            const sections = [
                'login-form',
                'signup-method-selection',
                'email-signup-container',
                'phone-signup-container',
                'otp-container',
                'email-verification-container',
                'password-reset-container'
            ];
            sections.forEach(id => {
                document.getElementById(id).style.display = 'none';
            });
        }

        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            const button = input.nextElementSibling;
            
            if (input.type === 'password') {
                input.type = 'text';
                button.textContent = 'üôà';
            } else {
                input.type = 'password';
                button.textContent = 'üëÅ';
            }
        }

        function showMessage(type, message) {
            const successDiv = document.getElementById('success-message');
            const errorDiv = document.getElementById('error-message');
            
            if (type === 'success') {
                successDiv.textContent = message;
                successDiv.style.display = 'block';
                errorDiv.style.display = 'none';
            } else {
                errorDiv.textContent = message;
                errorDiv.style.display = 'block';
                successDiv.style.display = 'none';
            }
            
            setTimeout(() => {
                successDiv.style.display = 'none';
                errorDiv.style.display = 'none';
            }, 5000);
        }

        function showLoading() {
            document.getElementById('loading-overlay').style.display = 'flex';
        }

        function hideLoading() {
            document.getElementById('loading-overlay').style.display = 'none';
        }

        // Login Handler
        async function handleLogin() {
            const identifier = document.getElementById('login-identifier').value;
            const password = document.getElementById('login-password').value;
            
            if (!identifier || !password) {
                showMessage('error', 'Please fill in all fields');
                return;
            }
            
            showLoading();
            
            // Simulate API call
            setTimeout(() => {
                hideLoading();
                
                // Mock successful login
                appState.user = {
                    email: identifier,
                    name: 'KABIRU User',
                    walletAddress: '0x' + Math.random().toString(16).substr(2, 8).toUpperCase()
                };
                appState.isLoggedIn = true;
                appState.balance = Math.random() * 10;
                
                localStorage.setItem('kabiru_user', JSON.stringify(appState.user));
                localStorage.setItem('kabiru_balance', appState.balance.toString());
                
                showMessage('success', 'Login successful! Welcome back!');
                
                setTimeout(() => {
                    showMainApp();
                }, 1500);
            }, 2000);
        }

        // Email Signup Handler
        async function handleEmailSignup() {
            const name = document.getElementById('signup-name').value;
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;
            const confirmPassword = document.getElementById('signup-confirm-password').value;
            
            if (!name || !email || !password || !confirmPassword) {
                showMessage('error', 'Please fill in all fields');
                return;
            }
            
            if (password !== confirmPassword) {
                showMessage('error', 'Passwords do not match');
                return;
            }
            
            if (password.length < 6) {
                showMessage('error', 'Password must be at least 6 characters');
                return;
            }
            
            showLoading();
            
            // Simulate API call
            setTimeout(() => {
                hideLoading();
                showMessage('success', 'Verification email sent! Please check your inbox.');
                hideAllSections();
                document.getElementById('email-verification-container').style.display = 'block';
            }, 2000);
        }

        // Phone Signup Handler
        async function handlePhoneSignup() {
            const name = document.getElementById('phone-signup-name').value;
            const phone = document.getElementById('signup-phone').value;
            const password = document.getElementById('phone-signup-password').value;
            
            if (!name || !phone || !password) {
                showMessage('error', 'Please fill in all fields');
                return;
            }
            
            showLoading();
            
            // Simulate sending OTP
            setTimeout(() => {
                hideLoading();
                showMessage('success', 'Verification code sent to your phone!');
                hideAllSections();
                document.getElementById('otp-container').style.display = 'block';
            }, 2000);
        }

        // OTP Functions
        function setupOTPInputs() {
            const otpInputs = document.querySelectorAll('.otp-input');
            otpInputs.forEach((input, index) => {
                input.addEventListener('input', (e) => {
                    if (e.target.value.length === 1 && index < otpInputs.length - 1) {
                        otpInputs[index + 1].focus();
                    }
                });
                
                input.addEventListener('keydown', (e) => {
                    if (e.key === 'Backspace' && e.target.value === '' && index > 0) {
                        otpInputs[index - 1].focus();
                    }
                });
            });
        }

        function verifyOTP() {
            const otpInputs = document.querySelectorAll('.otp-input');
            const otp = Array.from(otpInputs).map(input => input.value).join('');
            
            if (otp.length !== 6) {
                showMessage('error', 'Please enter the complete 6-digit code');
                return;
            }
            
            showLoading();
            
            // Simulate OTP verification
            setTimeout(() => {
                hideLoading();
                
                // Mock successful registration
                appState.user = {
                    name: document.getElementById('phone-signup-name').value,
                    phone: document.getElementById('signup-phone').value,
                    walletAddress: '0x' + Math.random().toString(16).substr(2, 8).toUpperCase()
                };
                appState.isLoggedIn = true;
                appState.balance = 0;
                
                localStorage.setItem('kabiru_user', JSON.stringify(appState.user));
                localStorage.setItem('kabiru_balance', appState.balance.toString());
                
                showMessage('success', 'Account created successfully! Welcome to KABIRU!');
                
                setTimeout(() => {
                    showMainApp();
                }, 1500);
            }, 2000);
        }

        function resendOTP() {
            showMessage('success', 'New verification code sent!');
        }

        // Password Reset
        function handlePasswordReset() {
            const email = document.getElementById('reset-email').value;
            
            if (!email) {
                showMessage('error', 'Please enter your email address');
                return;
            }
            
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                showMessage('success', 'Password reset link sent to your email!');
                
                setTimeout(() => {
                    showLogin();
                }, 2000);
            }, 2000);
        }

        // Email Verification Functions
        function checkEmailVerification() {
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                
                // Mock successful verification
                appState.user = {
                    name: document.getElementById('signup-name').value,
                    email: document.getElementById('signup-email').value,
                    walletAddress: '0x' + Math.random().toString(16).substr(2, 8).toUpperCase()
                };
                appState.isLoggedIn = true;
                appState.balance = 0;
                
                localStorage.setItem('kabiru_user', JSON.stringify(appState.user));
                localStorage.setItem('kabiru_balance', appState.balance.toString());
                
                showMessage('success', 'Email verified! Welcome to KABIRU!');
                
                setTimeout(() => {
                    showMainApp();
                }, 1500);
            }, 2000);
        }

        function resendEmailVerification() {
            showMessage('success', 'Verification email resent!');
        }

        // Google Signup (Mock)
        function showGoogleSignup() {
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                
                // Mock Google signup
                appState.user = {
                    name: 'Google User',
                    email: 'user@gmail.com',
                    walletAddress: '0x' + Math.random().toString(16).substr(2, 8).toUpperCase()
                };
                appState.isLoggedIn = true;
                appState.balance = 0;
                
                localStorage.setItem('kabiru_user', JSON.stringify(appState.user));
                localStorage.setItem('kabiru_balance', appState.balance.toString());
                
                showMessage('success', 'Google signup successful!');
                
                setTimeout(() => {
                    showMainApp();
                }, 1500);
            }, 2000);
        }

        // Check stored authentication
        function checkStoredAuth() {
            const storedUser = localStorage.getItem('kabiru_user');
            const storedBalance = localStorage.getItem('kabiru_balance');
            
            if (storedUser) {
                appState.user = JSON.parse(storedUser);
                appState.balance = parseFloat(storedBalance) || 0;
                appState.isLoggedIn = true;
                showMainApp();
            } else {
                showLogin();
            }
        }

        // Main App Functions
        function showMainApp() {
            document.getElementById('login-page').style.display = 'none';
            document.getElementById('wallet-page').style.display = 'none';
            document.getElementById('mining-app').style.display = 'block';
            
            updateBalance();
            updateMiningStats();
            loadUserData();
        }

        function showWallet() {
            document.getElementById('mining-app').style.display = 'none';
            document.getElementById('wallet-page').style.display = 'block';
            
            updateWalletDisplay();
        }

        function updateBalance() {
            document.getElementById('balance-amount').textContent = appState.balance.toFixed(4) + ' KBR';
            document.getElementById('wallet-balance').textContent = appState.balance.toFixed(4) + ' KBR';
        }

        function updateMiningStats() {
            document.getElementById('mining-rate').textContent = appState.miningRate.toFixed(4) + ' KBR/hour';
            document.getElementById('total-mined').textContent = appState.totalMined.toFixed(4);
            document.getElementById('mining-power').textContent = appState.miningPower;
        }

        function updateWalletDisplay() {
            if (appState.user) {
                document.getElementById('wallet-address').textContent = appState.user.walletAddress;
            }
        }

        function loadUserData() {
            // Load saved data from localStorage
            const savedTotalMined = localStorage.getItem('kabiru_total_mined');
            const savedMiningPower = localStorage.getItem('kabiru_mining_power');
            const savedTasks = localStorage.getItem('kabiru_tasks');
            
            if (savedTotalMined) appState.totalMined = parseFloat(savedTotalMined);
            if (savedMiningPower) appState.miningPower = parseInt(savedMiningPower);
            if (savedTasks) appState.tasks = JSON.parse(savedTasks);
            
            updateMiningStats();
            updateTasksDisplay();
        }

        // Mining Functions
        function startMining() {
            if (appState.miningInterval) {
                clearInterval(appState.miningInterval);
            }
            
            appState.miningInterval = setInterval(() => {
                if (appState.isLoggedIn) {
                    const miningReward = appState.miningRate / 3600; // Per second
                    appState.balance += miningReward;
                    appState.totalMined += miningReward;
                    
                    updateBalance();
                    updateMiningStats();
                    
                    // Save to localStorage
                    localStorage.setItem('kabiru_balance', appState.balance.toString());
                    localStorage.setItem('kabiru_total_mined', appState.totalMined.toString());
                }
            }, 1000);
        }

        // Task Functions
        function showTaskCategory(category) {
            // Update active category
            document.querySelectorAll('.task-category').forEach(cat => {
                cat.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Show different task categories
            const valueCategoriesDiv = document.querySelector('.value-categories');
            
            if (category === 'daily') {
                valueCategoriesDiv.innerHTML = `
                    <div class="value-item" onclick="completeTask('check-in')">üìÖ Daily Check-in</div>
                    <div class="value-item" onclick="completeTask('watch-ad')">üì∫ Watch Video</div>
                    <div class="value-item" onclick="completeTask('invite-friend')">üë• Invite Friend</div>
                `;
            } else if (category === 'social') {
                valueCategoriesDiv.innerHTML = `
                    <div class="value-item" onclick="completeTask('share-twitter')">üê¶ Share on Twitter</div>
                    <div class="value-item" onclick="completeTask('join-telegram')">üì± Join Telegram</div>
                    <div class="value-item" onclick="completeTask('follow-instagram')">üì∑ Follow Instagram</div>
                `;
            } else if (category === 'bonus') {
                valueCategoriesDiv.innerHTML = `
                    <div class="value-item" onclick="completeTask('mining-boost')">‚ö° Mining Boost</div>
                    <div class="value-item" onclick="completeTask('lucky-spin')">üé∞ Lucky Spin</div>
                    <div class="value-item" onclick="completeTask('treasure-hunt')">üíé Treasure Hunt</div>
                `;
            }
        }

        function completeTask(taskId) {
            if (appState.tasks[taskId] && appState.tasks[taskId].completed) {
                showMessage('error', 'Task already completed today!');
                return;
            }
            
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                
                const reward = 0.1;
                appState.balance += reward;
                appState.totalMined += reward;
                
                if (!appState.tasks[taskId]) {
                    appState.tasks[taskId] = { completed: false, reward: 0.1 };
                }
                appState.tasks[taskId].completed = true;
                
                updateBalance();
                updateMiningStats();
                updateTasksDisplay();
                
                // Save to localStorage
                localStorage.setItem('kabiru_balance', appState.balance.toString());
                localStorage.setItem('kabiru_total_mined', appState.totalMined.toString());
                localStorage.setItem('kabiru_tasks', JSON.stringify(appState.tasks));
                
                showMessage('success', `Task completed! +${reward} KBR earned!`);
            }, 1500);
        }

        function updateTasksDisplay() {
            const completedTasks = Object.values(appState.tasks).filter(task => task.completed).length;
            const totalTasks = Object.keys(appState.tasks).length;
            
            document.getElementById('tasks-completed').textContent = `${completedTasks}/${totalTasks}`;
            document.getElementById('today-earnings').textContent = (completedTasks * 0.1).toFixed(2) + ' KBR';
        }

        // Content Functions
        function showSovereignContent() {
            showMessage('success', 'Sovereign features coming soon! Governance and voting rights.');
        }

        function showValueContent() {
            showMessage('success', 'Value features activated! Explore DeFi opportunities.');
        }

        // Profile and Settings
        function showProfile() {
            if (appState.user) {
                alert(`Profile:\nName: ${appState.user.name}\nEmail: ${appState.user.email || 'N/A'}\nPhone: ${appState.user.phone || 'N/A'}\nWallet: ${appState.user.walletAddress}`);
            }
        }

        function showSettings() {
            alert('Settings:\n- Notifications: ON\n- Mining Auto-start: ON\n- Theme: Dark Mode\n- Language: English');
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                localStorage.removeItem('kabiru_user');
                localStorage.removeItem('kabiru_balance');
                localStorage.removeItem('kabiru_total_mined');
                localStorage.removeItem('kabiru_mining_power');
                localStorage.removeItem('kabiru_tasks');
                
                appState.user = null;
                appState.isLoggedIn = false;
                appState.balance = 0;
                
                if (appState.miningInterval) {
                    clearInterval(appState.miningInterval);
                }
                
                showLogin();
            }
        }

        // Wallet Modal Functions
        function openWalletModal(type) {
            const modal = document.getElementById('wallet-modal');
            const title = document.getElementById('modal-title');
            const content = document.getElementById('modal-content');
            
            modal.style.display = 'block';
            
            switch(type) {
                case 'send':
                    title.textContent = 'Send KBR';
                    content.innerHTML = `
                        <div class="input-group">
                            <label>Recipient Address</label>
                            <input type="text" placeholder="0x..." id="send-address">
                        </div>
                        <div class="input-group">
                            <label>Amount</label>
                            <input type="number" placeholder="0.00" id="send-amount" step="0.0001">
                        </div>
                        <div class="exchange-rate-info">
                            Current Balance: ${appState.balance.toFixed(4)} KBR
                        </div>
                        <div class="action-buttons">
                            <button class="action-button primary-button" onclick="executeSend()">Send KBR</button>
                            <button class="action-button secondary-button" onclick="closeWalletModal()">Cancel</button>
                        </div>
                    `;
                    break;
                    
                case 'receive':
                    title.textContent = 'Receive KBR';
                    content.innerHTML = `
                        <div class="info-box">
                            Share your wallet address to receive KBR tokens from other users.
                        </div>
                        <div class="input-group">
                            <label>Your Wallet Address</label>
                            <input type="text" value="${appState.user.walletAddress}" readonly id="receive-address">
                        </div>
                        <div class="action-buttons">
                            <button class="action-button primary-button" onclick="copyAddress()">Copy Address</button>
                            <button class="action-button secondary-button" onclick="closeWalletModal()">Close</button>
                        </div>
                    `;
                    break;
                    
                case 'swap':
                    title.textContent = 'Swap Tokens';
                    content.innerHTML = `
                        <div class="input-group">
                            <label>From</label>
                            <select id="swap-from">
                                <option value="KBR">KBR</option>
                                <option value="ETH">ETH</option>
                                <option value="USDT">USDT</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Amount</label>
                            <input type="number" placeholder="0.00" id="swap-amount" step="0.0001">
                        </div>
                        <div class="input-group">
                            <label>To</label>
                            <select id="swap-to">
                                <option value="ETH">ETH</option>
                                <option value="USDT">USDT</option>
                                <option value="KBR">KBR</option>
                            </select>
                        </div>
                        <div class="exchange-rate-info">
                            Exchange Rate: 1 KBR = 0.0001 ETH
                        </div>
                        <div class="action-buttons">
                            <button class="action-button primary-button" onclick="executeSwap()">Swap Tokens</button>
                            <button class="action-button secondary-button" onclick="closeWalletModal()">Cancel</button>
                        </div>
                    `;
                    break;
                    
                case 'stake':
                    title.textContent = 'Stake KBR';
                    content.innerHTML = `
                        <div class="info-box">
                            Stake your KBR tokens to earn rewards. Higher stakes unlock better mining rates.
                        </div>
                        <div class="input-group">
                            <label>Stake Amount</label>
                            <input type="number" placeholder="0.00" id="stake-amount" step="0.0001">
                        </div>
                        <div class="input-group">
                            <label>Staking Period</label>
                            <select id="stake-period">
                                <option value="30">30 Days (5% APY)</option>
                                <option value="90">90 Days (8% APY)</option>
                                <option value="180">180 Days (12% APY)</option>
                                <option value="365">365 Days (15% APY)</option>
                            </select>
                        </div>
                        <div class="pool-stats">
                            <div class="pool-stat">
                                <div class="pool-stat-value">${appState.balance.toFixed(4)}</div>
                                <div class="pool-stat-label">Available Balance</div>
                            </div>
                            <div class="pool-stat">
                                <div class="pool-stat-value">0.00</div>
                                <div class="pool-stat-label">Currently Staked</div>
                            </div>
                        </div>
                        <div class="action-buttons">
                            <button class="action-button primary-button" onclick="executeStake()">Stake KBR</button>
                            <button class="action-button secondary-button" onclick="closeWalletModal()">Cancel</button>
                        </div>
                    `;
                    break;
                    
                case 'liquidity':
                    title.textContent = 'Liquidity Pool';
                    content.innerHTML = `
                        <div class="info-box">
                            Provide liquidity to the KBR/ETH pool and earn trading fees plus LP rewards.
                        </div>
                        <div class="input-group">
                            <label>KBR Amount</label>
                            <input type="number" placeholder="0.00" id="lp-kbr-amount" step="0.0001">
                        </div>
                        <div class="input-group">
                            <label>ETH Amount</label>
                            <input type="number" placeholder="0.00" id="lp-eth-amount" step="0.0001">
                        </div>
                        <div class="pool-stats">
                            <div class="pool-stat">
                                <div class="pool-stat-value">24.5%</div>
                                <div class="pool-stat-label">APY</div>
                            </div>
                            <div class="pool-stat">
                                <div class="pool-stat-value">$125K</div>
                                <div class="pool-stat-label">Total Liquidity</div>
                            </div>
                        </div>
                        <div class="action-buttons">
                            <button class="action-button primary-button" onclick="executeLiquidity()">Add Liquidity</button>
                            <button class="action-button secondary-button" onclick="closeWalletModal()">Cancel</button>
                        </div>
                    `;
                    break;
                    
                case 'lending':
                    title.textContent = 'Lending Pool';
                    content.innerHTML = `
                        <div class="info-box">
                            Lend your KBR tokens to earn passive income. Funds are secured by smart contracts.
                        </div>
                        <div class="input-group">
                            <label>Lending Amount</label>
                            <input type="number" placeholder="0.00" id="lend-amount" step="0.0001">
                        </div>
                        <div class="input-group">
                            <label>Lending Term</label>
                            <select id="lend-term">
                                <option value="flexible">Flexible (3% APY)</option>
                                <option value="fixed-30">30 Days Fixed (6% APY)</option>
                                <option value="fixed-90">90 Days Fixed (9% APY)</option>
                            </select>
                        </div>
                        <div class="pool-stats">
                            <div class="pool-stat">
                                <div class="pool-stat-value">95.2%</div>
                                <div class="pool-stat-label">Utilization Rate</div>
                            </div>
                            <div class="pool-stat">
                                <div class="pool-stat-value">$89K</div>
                                <div class="pool-stat-label">Available to Lend</div>
                            </div>
                        </div>
                        <div class="action-buttons">
                            <button class="action-button primary-button" onclick="executeLending()">Start Lending</button>
                            <button class="action-button secondary-button" onclick="closeWalletModal()">Cancel</button>
                        </div>
                    `;
                    break;
                    
                case 'governance':
                    title.textContent = 'Governance Voting';
                    content.innerHTML = `
                        <div class="info-box">
                            Vote on important platform decisions. Your voting power is based on your KBR holdings.
                        </div>
                        <div class="pool-stats">
                            <div class="pool-stat">
                                <div class="pool-stat-value">${appState.balance.toFixed(0)}</div>
                                <div class="pool-stat-label">Voting Power</div>
                            </div>
                            <div class="pool-stat">
                                <div class="pool-stat-value">3</div>
                                <div class="pool-stat-label">Active Proposals</div>
                            </div>
                        </div>
                        <div class="input-group">
                            <label>Current Proposals</label>
                            <select id="proposal-select">
                                <option value="1">Proposal #1: Increase Mining Rewards</option>
                                <option value="2">Proposal #2: Add New Token Pairs</option>
                                <option value="3">Proposal #3: Platform Fee Reduction</option>
                            </select>
                        </div>
                        <div class="action-buttons">
                            <button class="action-button primary-button" onclick="executeVote('yes')">Vote YES</button>
                            <button class="action-button primary-button" onclick="executeVote('no')">Vote NO</button>
                            <button class="action-button secondary-button" onclick="closeWalletModal()">Cancel</button>
                        </div>
                    `;
                    break;
                    
                case 'nft':
                    title.textContent = 'NFT Marketplace';
                    content.innerHTML = `
                        <div class="info-box">
                            Trade exclusive KABIRU mining NFTs that boost your mining power and provide special rewards.
                        </div>
                        <div class="pool-stats">
                            <div class="pool-stat">
                                <div class="pool-stat-value">0</div>
                                <div class="pool-stat-label">Owned NFTs</div>
                            </div>
                            <div class="pool-stat">
                                <div class="pool-stat-value">156</div>
                                <div class="pool-stat-label">Available NFTs</div>
                            </div>
                        </div>
                        <div class="input-group">
                            <label>Featured NFT Collections</label>
                            <select id="nft-collection">
                                <option value="miners">Golden Miners (2x Mining Power)</option>
                                <option value="tools">Diamond Tools (1.5x Mining Speed)</option>
                                <option value="gems">Rare Gems (Bonus Rewards)</option>
                            </select>
                        </div>
                        <div class="exchange-rate-info">
                            Floor Price: 5.0 KBR | Last Sale: 7.2 KBR
                        </div>
                        <div class="action-buttons">
                            <button class="action-button primary-button" onclick="executeNFTAction()">Browse Collection</button>
                            <button class="action-button secondary-button" onclick="closeWalletModal()">Cancel</button>
                        </div>
                    `;
                    break;
            }
        }

        function closeWalletModal() {
            document.getElementById('wallet-modal').style.display = 'none';
        }

        // Modal execution functions
        function executeSend() {
            const address = document.getElementById('send-address').value;
            const amount = parseFloat(document.getElementById('send-amount').value);
            
            if (!address || !amount || amount <= 0) {
                showMessage('error', 'Please fill in all fields correctly');
                return;
            }
            
            if (amount > appState.balance) {
                showMessage('error', 'Insufficient balance');
                return;
            }
            
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                appState.balance -= amount;
                updateBalance();
                localStorage.setItem('kabiru_balance', appState.balance.toString());
                
                showMessage('success', `Successfully sent ${amount} KBR!`);
                closeWalletModal();
            }, 2000);
        }

        function copyAddress() {
            const addressInput = document.getElementById('receive-address');
            addressInput.select();
            document.execCommand('copy');
            showMessage('success', 'Address copied to clipboard!');
        }

        function executeSwap() {
            const amount = parseFloat(document.getElementById('swap-amount').value);
            const fromToken = document.getElementById('swap-from').value;
            const toToken = document.getElementById('swap-to').value;
            
            if (!amount || amount <= 0) {
                showMessage('error', 'Please enter a valid amount');
                return;
            }
            
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                showMessage('success', `Successfully swapped ${amount} ${fromToken} to ${toToken}!`);
                closeWalletModal();
            }, 2000);
        }

        function executeStake() {
            const amount = parseFloat(document.getElementById('stake-amount').value);
            const period = document.getElementById('stake-period').value;
            
            if (!amount || amount <= 0) {
                showMessage('error', 'Please enter a valid amount');
                return;
            }
            
            if (amount > appState.balance) {
                showMessage('error', 'Insufficient balance');
                return;
            }
            
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                appState.balance -= amount;
                updateBalance();
                localStorage.setItem('kabiru_balance', appState.balance.toString());
                
                showMessage('success', `Successfully staked ${amount} KBR for ${period} days!`);
                closeWalletModal();
            }, 2000);
        }

        function executeLiquidity() {
            const kbrAmount = parseFloat(document.getElementById('lp-kbr-amount').value);
            const ethAmount = parseFloat(document.getElementById('lp-eth-amount').value);
            
            if (!kbrAmount || !ethAmount || kbrAmount <= 0 || ethAmount <= 0) {
                showMessage('error', 'Please enter valid amounts for both tokens');
                return;
            }
            
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                showMessage('success', `Successfully added ${kbrAmount} KBR and ${ethAmount} ETH to liquidity pool!`);
                closeWalletModal();
            }, 2000);
        }

        function executeLending() {
            const amount = parseFloat(document.getElementById('lend-amount').value);
            const term = document.getElementById('lend-term').value;
            
            if (!amount || amount <= 0) {
                showMessage('error', 'Please enter a valid amount');
                return;
            }
            
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                showMessage('success', `Successfully started lending ${amount} KBR with ${term} terms!`);
                closeWalletModal();
            }, 2000);
        }

        function executeVote(vote) {
            const proposal = document.getElementById('proposal-select').value;
            
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                showMessage('success', `Vote "${vote.toUpperCase()}" submitted for Proposal #${proposal}!`);
                closeWalletModal();
            }, 2000);
        }

        function executeNFTAction() {
            const collection = document.getElementById('nft-collection').value;
            
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                showMessage('success', `Opening ${collection} collection...`);
                closeWalletModal();
            }, 2000);
        }

        function showAllTransactions() {
            showMessage('success', 'Transaction history feature coming soon!');
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('wallet-modal');
            if (event.target === modal) {
                closeWalletModal();
            }
        }
    </script>
</body>
</html>
